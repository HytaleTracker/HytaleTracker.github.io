<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Release Countdown | Hytale Tracker</title>
        <link rel="stylesheet" type="text/css" href="../style.css">
        <link rel="icon" type="image/png" href="favicon.ico">
        <meta content="Hytale Release Countdown | Hytale Tracker" property="og:title" />
        <meta content="Watch the time pass untill Hytale releases" property="og:description" />
        <meta content="https://hytracker.net/misc/release-countdown" property="og:url" />
        <meta content="https://hytracker.net/assets/DarkBorder.png" property="og:image" />
        <meta content="#57263A" data-react-helmet="true" name="theme-color" />
        <meta http-equiv="Cache-Control" content="no-cache">
        <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.9.1/tsparticles.confetti.bundle.min.js"></script>
        <style>

            body{
                background-image: url("https://hytale.com/static/countdown/bg.jpg");
                background-size: 100%;
                background-repeat: no-repeat;
            }
            @media (max-width: 1700px){
                body{
                    background-image: url("https://hytale.com/static/countdown/bg.jpg");
                    background-size: 200%;
                    background-repeat: no-repeat;
                }
            }
            @font-face {
                font-family: "Hytale-font";
                src: url(../assets/Penumbra\ Serif\ Std\ Regular.otf);
            }
            main{
                text-align: center;
                font-family: "Hytale-font";
            }
            h1{
                transition: all 0.5s;
                cursor: pointer;
                letter-spacing: 1px;
            }
            h2{
                transition: all 0.5s;
                cursor: pointer;
            }
            #copyAlert{
                position: fixed;
                bottom: 0;
                right: 0;
                margin: 10px;
                opacity: 0%;
                animation: 2s forwards;
                background-color: #0f172b;
                border: 5px solid #1d293d;
                padding: 10px;
                height: 50px;
            }
            @keyframes fadeIn{
                0%{
                    opacity: 0%;
                }
                50%{
                    opacity: 100%;
                }
                100%{
                    opacity: 0%;
                }
            }
            .container {
                margin-top: 50px;
            }
            #releaseCountdown, #preOrderCountdown{
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 15px;
                border: 2px solid #60512B;
                width: fit-content;
                margin-left: auto;
                margin-right: auto;
                padding: 10px;
                border-radius: 5px;
                background-image: url("https://hytale.com/static/countdown/bg--countdown.png");
                background-size: 100%;
            }
            #releaseCountdown > p, #preOrderCountdown > p{
                color: #60512B;
            }
            #releaseCountdown > div, #preOrderCountdown > div{
                color: #60512B;
                font-style: bold;
            }
            #extras{
                margin-top: 30vh;
                display: none;
            }

            .flexExtrasNumber{
                color: #CBAE4D;
                font-size: 50px;
                font-style: bold;
                cursor: pointer;
            }
            .flexExtrasLabel{
                color: #60512B;
            }
            .flexExtras{
                background-image: url("https://hytale.com/static/countdown/bg--countdown.png");
            }
            #toggleExtras{
                position: fixed;
                bottom: 25px;
                left: 15px;
            }
            button{
                border-radius: 5px;
                border: 2px solid #60512B;
                background-image: url("https://hytale.com/static/countdown/bg--countdown.png");
                background-size: 100%;
            }
            .celebratoryImage{
                position: fixed;
            }
            #hytaleLogo{
                filter: drop-shadow(5px 5px 5px black);
            }


        </style>
    </head>

    <body>
        <main>
            <div class="container">
                <div>
                    <a href="https://hytale.com">
                        <img src="https://hytale.com/static/images/logo.png" id="hytaleLogo">
                    </a>
                    <h1 id="HytaleRelease">Hytale release in</h1>
                    <div id="releaseCountdown">
                        <div id="releaseDays" >
                            <div id="releaseDaysText"style="font-size: 50px; color: #CBAE4D">

                            </div>
                            <div>
                                Days
                            </div>
                        </div>
                        <p>
                        |
                        </p>
                        <div id="releaseHours">
                            <div id="releaseHoursText"style="font-size: 50px; color: #CBAE4D">

                            </div>
                            <div>
                                Hours
                            </div>
                        </div>
                        <p>
                        |
                        </p>
                        <div id="releaseMinutes">
                            <div id="releaseMinutesText"style="font-size: 50px; color: #CBAE4D">

                            </div>
                            <div>
                                Minutes
                            </div>
                        </div>
                        <p>
                        |
                        </p>
                        <div id="releaseSeconds">
                            <div id="releaseSecondsText"style="font-size: 50px; color: #CBAE4D">

                            </div>
                            <div>
                                Seconds
                            </div>
                        </div>
                    </div>
                    <br>
                    <h1 id="HytalePreOrders">Hytale pre-orders in</h1>
                    <div id="preOrderCountdown">
                        <div id="preOrdersDays">
                            <div id="preOrdersDaysText"style="font-size: 50px; color: #CBAE4D">

                            </div>
                            <div>
                                Days
                            </div>
                        </div>
                        <p>
                        |
                        </p>
                        <div id="preOrdersHours">
                            <div id="preOrdersHoursText"style="font-size: 50px; color: #CBAE4D">

                            </div>
                            <div>
                                Hours
                            </div>
                        </div>
                        <p>
                        |
                        </p>
                        <div id="preOrdersMinutes">
                            <div id="preOrdersMinutesText"style="font-size: 50px; color: #CBAE4D">

                            </div>
                            <div>
                                Minutes
                            </div>
                        </div>
                        <p>
                        |
                        </p>
                        <div id="preOrdersSeconds">
                            <div id="preOrdersSecondsText"style="font-size: 50px; color: #CBAE4D">

                            </div>
                            <div>
                                Seconds
                            </div>
                        </div>
                    </div>
                    <div id="extras">
                        <h1>Extras</h1>
                        <h1>Hytale release in</h1>
                        <div class="flexExtras" style="border: 2px solid #60512B; width: fit-content; margin-right: auto; margin-left: auto; padding: 5px; border-radius: 5px;">
                            <div id="extrasReleaseHour" class="flexExtrasNumber"></div>
                            <div class="flexExtrasLabel">Hours</div>
                        </div>
                        <h1>Or</h1>
                        <div class="flexExtras" style="border: 2px solid #60512B; width: fit-content; margin-right: auto; margin-left: auto; padding: 5px; border-radius: 5px;">
                            <div id="extrasReleaseMinutes" class="flexExtrasNumber"></div>
                            <div class="flexExtrasLabel">Minutes</div>
                        </div>
                        <h1>Or</h1>
                        <div class="flexExtras" style="border: 2px solid #60512B; width: fit-content; margin-right: auto; margin-left: auto; padding: 5px; border-radius: 5px;">
                            <div id="extrasReleaseSeconds" class="flexExtrasNumber"></div>
                            <div class="flexExtrasLabel">Seconds</div>
                        </div>
                        <h1>Or</h1>
                        <div class="flexExtras" style="border: 2px solid #60512B; width: fit-content; margin-right: auto; margin-left: auto; padding: 5px; border-radius: 5px;">
                            <div id="extrasReleaseMilliseconds" class="flexExtrasNumber"></div>
                            <div class="flexExtrasLabel">Milliseconds</div>
                        </div>
                        <h1>Or</h1>
                        <div class="flexExtras" style="border: 2px solid #60512B; width: fit-content; margin-right: auto; margin-left: auto; padding: 5px; border-radius: 5px;">
                            <div id="extrasReleasePlankSeconds" class="flexExtrasNumber"></div>
                            <div class="flexExtrasLabel">Planck Seconds</div>
                        </div>
                        
                    </div>
                    <button id="toggleExtras">Toggle Extras</button>
                    <h5 style="position: fixed; bottom: 5px; right: 25px">hytracker.net</h5>
                </div>
            </div>
            <div id="copyAlert">
            </div>
        </main>
        <script>
            const releaseCountdown = document.getElementById("releaseCountdown");
            const preOrderCountdown = document.getElementById("preOrderCountdown");
            const copyAlert = document.getElementById("copyAlert");

            const releaseDate = new Date(Date.UTC(2026, 0, 13, 15));
            const preOrderDate = new Date(Date.UTC(2025, 11, 13, 15));

            let daysRelease;
            let daysPreOrder;
            let hoursRelease;
            let hoursPreOrder;
            let minutesRelease;
            let minutesPreOrder;
            let secondsRelease;
            let secondsPreOrder;

            const releaseDaysText = document.getElementById("releaseDaysText");
            const ReleaseHoursText = document.getElementById("releaseHoursText");
            const releaseMinutesText = document.getElementById("releaseMinutesText");
            const releaseSecondsText = document.getElementById("releaseSecondsText");

            const preOrdersDaysText = document.getElementById("preOrdersDaysText");
            const preOrdersHoursText = document.getElementById("preOrdersHoursText");
            const preOrdersMinutesText = document.getElementById("preOrdersMinutesText");
            const preOrdersSecondsText = document.getElementById("preOrdersSecondsText");

            const extrasReleaseHour = document.getElementById("extrasReleaseHour");
            const extrasReleaseMinutes = document.getElementById("extrasReleaseMinutes");
            const extrasReleaseSeconds = document.getElementById("extrasReleaseSeconds");
            const extrasReleaseMilliseconds = document.getElementById("extrasReleaseMilliseconds");
            const extrasReleasePlankSeconds = document.getElementById("extrasReleasePlankSeconds");

            setInterval(() => {
                const time = new Date();
                const diffRelease = releaseDate - time;

                daysRelease = Math.floor(diffRelease / 86400000);
                hoursRelease = Math.floor((diffRelease % 86400000) / 3600000);
                minutesRelease = Math.floor((diffRelease % 3600000) / 60000);
                secondsRelease = Math.floor((diffRelease % 60000) / 1000);

                releaseDaysText.textContent = daysRelease;
                releaseHoursText.textContent = hoursRelease;
                releaseMinutesText.textContent = minutesRelease;
                releaseSecondsText.textContent = secondsRelease;

                const diffPreOrder = preOrderDate - time;

                daysPreOrder = Math.floor(diffPreOrder / 86400000);
                hoursPreOrder = Math.floor((diffPreOrder % 86400000) / 3600000);
                minutesPreOrder = Math.floor((diffPreOrder % 3600000) / 60000);
                secondsPreOrder = Math.floor((diffPreOrder % 60000) / 1000);

                preOrdersDaysText.textContent = daysPreOrder;
                preOrdersHoursText.textContent = hoursPreOrder;
                preOrdersMinutesText.textContent = minutesPreOrder;
                preOrdersSecondsText.textContent = secondsPreOrder;

                //extras
                extrasReleaseHour.textContent = `${daysRelease * 24 + hoursRelease}`;
                extrasReleaseMinutes.textContent = `${daysRelease * 24 * 60 + hoursRelease * 60 + minutesRelease}`;
                extrasReleaseSeconds.textContent = `${daysRelease * 24 * 60 * 60 + hoursRelease * 60 * 60 + minutesRelease * 60 + secondsRelease}`;
                

                if(daysRelease == 0 && hoursRelease == 0 && minutesRelease == 0 && secondsRelease == 0){
                    celebrate(true);
                }
                if(daysPreOrder == 0 && hoursPreOrder == 0 && minutesPreOrder == 0 && secondsPreOrder == 0){
                    celebrate(false);
                }
                floatyGuys();

            }, 100)

            const PLANCK_TIME_MILLIS = 5.391e-44 * 1000;

            setInterval(() => {
                const time = new Date();
                const diffRelease = releaseDate - time;
                extrasReleaseMilliseconds.textContent = `${diffRelease}`;
                extrasReleasePlankSeconds.textContent = diffRelease / PLANCK_TIME_MILLIS;
            }, 1);

            releaseCountdown.addEventListener("click", () => {
                navigator.clipboard.writeText(`${daysRelease} days, ${hoursRelease} hours, ${minutesRelease} minutes, ${secondsRelease} seconds`);
                copyAlert.textContent = `Copied to clipboard: ${daysRelease} days, ${hoursRelease} hours, ${minutesRelease} minutes, ${secondsRelease} seconds`;
                copyAlert.style.animationName = "none";
                void copyAlert.offsetWidth;
                copyAlert.style.animationName = "fadeIn";
            })
            preOrderCountdown.addEventListener("click", () => {
                navigator.clipboard.writeText(`${daysPreOrder} days, ${hoursPreOrder} hours, ${minutesPreOrder} minutes, ${secondsPreOrder} seconds`);
                copyAlert.textContent = `Copied to clipboard: ${daysPreOrder} days, ${hoursPreOrder} hours, ${minutesPreOrder} minutes, ${secondsPreOrder} seconds`;
                copyAlert.style.animationName = "none";
                void copyAlert.offsetWidth;
                copyAlert.style.animationName = "fadeIn";
            })
            document.getElementById("HytaleRelease").addEventListener("click", () => {
                navigator.clipboard.writeText("<t:1768316400:R>");
                copyAlert.textContent = `Copied hammertime to clipboard: <t:1768316400:R>`;
                copyAlert.style.animationName = "none";
                void copyAlert.offsetWidth;
                copyAlert.style.animationName = "fadeIn";
            })
            document.getElementById("HytalePreOrders").addEventListener("click", () => {
                navigator.clipboard.writeText("<t:1765602000:R>");
                copyAlert.textContent = `Copied hammertime to clipboard: <t:1765602000:R>`;
                copyAlert.style.animationName = "none";
                void copyAlert.offsetWidth;
                copyAlert.style.animationName = "fadeIn";
            })
            copyAlert.addEventListener("animationend", () => {
                copyAlert.style.animationName = "";
                copyAlert.style.opacity = "0%";
            })

            const extras = document.querySelectorAll(".flexExtrasNumber");
            extras.forEach((item) => {
                item.addEventListener("click", () => {
                    navigator.clipboard.writeText(item.textContent);
                    copyAlert.textContent = `Copied time to clipboard ${item.textContent}`;
                    copyAlert.style.animationName = "none";
                    void copyAlert.offsetWidth;
                    copyAlert.style.animationName = "fadeIn";
                })
            })
            document.getElementById("toggleExtras").addEventListener("click", () => {
                if(document.getElementById("extras").style.display == "none"){
                    document.getElementById("extras").style.display = "inherit";
                    document.getElementById("extras").scrollIntoView(true);
                    if(window.innerWidth < 1700){
                        document.body.style.backgroundSize = "500%";
                    }else{
                        document.body.style.backgroundSize = "200%";
                    }
                }else{
                    document.getElementById("extras").style.display = "none";
                    if(window.innerWidth < 1700){
                        document.body.style.backgroundSize = "200%";
                    }else{
                        document.body.style.backgroundSize = "100%";
                    }
                }
            })
            document.getElementById("toggleExtras").click();

            let audio = new Audio('./images/Oscar Garvin - This Is Our Tale (Feat. Victoria Beaumont) [RIupzhc8UQo].mp3');
            audio.loop = true;

            

            document.getElementById("hytaleLogo").addEventListener("mouseover", () => {
                audio.play().catch(error => {
                copyAlert.textContent = "Please enable audio autoplay to hear music on hover.";
                copyAlert.style.animationName = "none";
                void copyAlert.offsetWidth;
                copyAlert.style.animationName = "fadeIn";
                });
            })
            document.getElementById("hytaleLogo").addEventListener("mouseout", () => {
                audio.pause();
            })

            let celebrateCalled = false

            function celebrate(release){
                if(celebrateCalled) return;
                celebrateCalled = true;
                if(release){
                    const kweeback = document.createElement("img");
                    kweeback.src = "./images/kweeback.gif";
                    kweeback.className = "celebratoryImage";
                    document.body.appendChild(kweeback);

                    const absoluteHytale = document.createElement("img");
                    absoluteHytale.src = "./images/absoluteHytale.jpg";
                    absoluteHytale.className = "celebratoryImage";
                    document.body.appendChild(absoluteHytale);
                    
                    kweeback.style.top = "0px";
                    kweeback.style.left = "0px";

                    absoluteHytale.style.top = "0px";
                    absoluteHytale.style.right = "0px";

                    absoluteHytale.style.opacity = 0;

                    setInterval(() => {
                        let current = parseFloat(absoluteHytale.style.opacity);
                        current += 0.05;
                        absoluteHytale.style.opacity = current;
                        if(current >= 1){
                            absoluteHytale.style.opacity = 0;
                            current = 0;
                        }
                    }, 40);


                    setInterval(() => {
                        confetti("tsparticles", {
                            angle: 45,
                            count: 250,
                            position: {
                                x: 0,
                                y: 100,
                            },
                            spread: 75,
                            startVelocity: 100,
                            decay: 0.9,
                            gravity: 1,
                            drift: 0,
                            ticks: 200,
                            shapes: ["image", "circle"],
                            shapeOptions: {
                                image: [
                                {
                                    src: "./images/HytaleH.png",
                                    width: 1000,
                                    height: 1000,
                                }
                            ]},
                            scalar: 1,
                            zIndex: 100,
                            disableForReducedMotion: true,
                        });
                        confetti("tsparticles", {
                            angle: 125,
                            count: 250,
                            position: {
                                x: 100,
                                y: 100,
                            },
                            spread: 75,
                            startVelocity: 100,
                            decay: 0.9,
                            gravity: 1,
                            drift: 0,
                            ticks: 200,
                            shapes: ["image", "circle"],
                            shapeOptions: {
                                image: [
                                {
                                    src: "./images/HytaleH.png",
                                    width: 1000,
                                    height: 1000,
                                }
                            ]},
                            scalar: 1,
                            zIndex: 100,
                            disableForReducedMotion: true,
                        });
                        }, 1000);

                }else{
                    const shutUpAndTakeMyMoney = document.createElement("img");
                    shutUpAndTakeMyMoney.src = "./images/shut-up-and-take-my-money.gif";
                    shutUpAndTakeMyMoney.className = "celebratoryImage";
                    shutUpAndTakeMyMoney.style.top = "0px";
                    shutUpAndTakeMyMoney.style.left = "0px";
                    document.body.appendChild(shutUpAndTakeMyMoney);
                }

                
            }

            function floatyGuys() {
                if (Math.floor(Math.random() * 300) == 1) {
                    const image = document.createElement("img");
                    image.style.position = "fixed";
                    const images = ["./images/kweebec.png", "./images/kweebecSit.png"];
                    image.src = images[Math.floor(Math.random() * images.length)];
                    const side = Math.floor(Math.random() * 4);

                    image.onload = () => {
                        let x, y, angle;
                        let bouncable = true;

                        if (side === 0) {
                            x = 0;
                            y = 0;
                            angle = Math.random() * 90;
                        }
                        if (side === 1) {
                            x = 0;
                            y = window.innerHeight - image.height;
                            angle = 270 + Math.random() * 90;
                        }
                        if (side === 2) {
                            x = window.innerWidth - image.width;
                            y = window.innerHeight - image.height;
                            angle = 180 + Math.random() * 90;
                        }
                        if (side === 3) {
                            x = window.innerWidth - image.width;
                            y = 0;
                            angle = 90 + Math.random() * 90;
                        }

                        const speed = 1;
                        const rad = () => angle * (Math.PI / 180);
                        let vx = Math.cos(rad()) * speed;
                        let vy = Math.sin(rad()) * speed;

                        const interval = setInterval(() => {
                            
                            x += vx;
                            y += vy;

                            image.style.left = `${x}px`;
                            image.style.top = `${y}px`;

                            if (x < -image.width || x > window.innerWidth || y < -image.height || y > window.innerHeight) {
                                clearInterval(interval);
                                image.remove();
                            }
                            if (x <= 0 || x + image.width >= window.innerWidth || y <= 0 || y + image.height >= window.innerHeight) {
                                if(bouncable == true){
                                    bouncable = false;
                                    if(Math.floor(Math.random() * 3) == 1){
                                        if (x <= 0 || x + image.width >= window.innerWidth) {
                                            vx = -vx;
                                            setTimeout(() => {
                                                bouncable = true;
                                            }, 1000)
                                        }
                                        if (y <= 0 || y + image.height >= window.innerHeight) {
                                            vy = -vy;
                                            setTimeout(() => {
                                                bouncable = true;
                                            }, 1000)
                                        }
                                    }
                                }
                            }
                        }, 10);

                        image.style.left = `${x}px`;
                        image.style.top = `${y}px`;
                        image.style.opacity = 0.25;
                        image.style.pointerEvents = "none";
                        document.body.appendChild(image);
                    };
                }
            }



        </script>
    </body>
</html>